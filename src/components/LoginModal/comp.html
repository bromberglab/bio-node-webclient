<div class="host">
  <b-modal id="login-modal" title="Login" :hide-footer="true">
    <div v-if="!success" class="text-danger text-center mb-3">{{ reason }}</div>
    <div role="tablist">
      <b-card no-body>
        <b-card-header header-tag="header" role="tab">
          <a block href="JavaScript:void(0)" v-b-toggle.accordion-1>Login</a>
        </b-card-header>
        <b-collapse
          id="accordion-1"
          visible
          accordion="login-accordion"
          role="tabpanel"
        >
          <b-card-body>
            <b-input
              class="mb-1"
              type="text"
              placeholder="Username"
              v-model="username"
            />
            <b-input
              class="mb-1"
              type="password"
              placeholder="Password"
              v-model="password"
            />
            <b-button class="float-right mb-3" variant="success" @click="login"
              >Login</b-button
            >
          </b-card-body>
        </b-collapse>
      </b-card>

      <b-card no-body>
        <b-card-header header-tag="header" role="tab">
          <a block href="JavaScript:void(0)" v-b-toggle.accordion-2>Register</a>
        </b-card-header>
        <b-collapse
          id="accordion-2"
          accordion="login-accordion"
          role="tabpanel"
        >
          <b-card-body>
            <b-input
              class="mb-1"
              type="email"
              placeholder="E-Mail"
              v-model="email"
            />
            <b-input
              class="mb-1"
              type="text"
              placeholder="Username"
              v-model="username"
            />
            <b-input
              class="mb-1"
              type="password"
              placeholder="Password"
              v-model="password"
            />
            <b-button
              class="float-right mb-3"
              variant="success"
              @click="register"
              >Register</b-button
            >
            <div class="text-muted text-sm text-center w-100">
              <small>Registrations have to be accepted by staff.</small>
            </div>
          </b-card-body>
        </b-collapse>
      </b-card>

      <b-card no-body>
        <b-card-header header-tag="header" role="tab">
          <a block href="JavaScript:void(0)" v-b-toggle.accordion-3>Guest</a>
        </b-card-header>
        <b-collapse
          id="accordion-3"
          accordion="login-accordion"
          role="tabpanel"
        >
          <b-card-body class="text-center">
            <b-button variant="success" @click="guest"
              >Continue as Guest</b-button
            ><br />
            <span class="text-muted text-sm"
              ><small>Guest login is valid for 24h.</small></span
            >
          </b-card-body>
        </b-collapse>
      </b-card>
    </div>
  </b-modal>
</div>
